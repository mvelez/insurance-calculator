<!doctype html>

<dom-module id="google-analytics">
  <template>
  </template>
  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;


    Polymer({
      is: 'google-analytics',
      properties: {
        gaCode: {
          type: String,
          notify: true,
        },
        page: {
          type: String,
          notify: true,
        },
        sendEvent: {
          type: String,
          notify: true,
        }
      },
      observers: [
        'createGa(gaCode)',
        'fireEvent(sendEvent, page)',
      ],
      createGa: function(gaCode){
        ga('create', gaCode, 'auto');
      },
      fireEvent: function(eventType, page){
        ga('set', 'page', page);
        ga('send', eventType);
      },

    });
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
</dom-module>
